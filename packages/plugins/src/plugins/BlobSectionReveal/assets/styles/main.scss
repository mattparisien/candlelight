[data-candlelight-initialized="true"] {
  .page-section {
    font-size: 4vw;
    color: black;
  }

  .bsr-container {
    position: relative;
    // total height: 100vh (initial) + duration lock
    min-height: calc((1 + var(--bsr-duration-vh, 1)) * 100vh);

    .page-section:nth-child(1) {
      background: var(--color-1, #f6d365);
    }

    .page-section:nth-child(2) {
      background: var(--color-2, #fda085);
    }
  }

  .bsr-sticky {
    position: sticky;
    top: 0;
    height: 100vh;
    overflow: clip;
    contain: layout paint size;
    will-change: transform;
  }

  .bsr-sticky > *:nth-child(1),
  .bsr-sticky > *:nth-child(2) {
    position: absolute !important;
    inset: 0;
  }

  .bsr-sticky > *:nth-child(2) {
    z-index: 1;
  }
  .bsr-sticky > *:nth-child(1) {
    z-index: 0;
    transition: filter 300ms ease;
  }

  // Optional: dim the top slightly during reveal
  .bsr-top--revealing {
    filter: brightness(0.96);
  }
  .bsr-top--done {
    filter: brightness(0.92);
  }

  // Radial mask fallback (fast & widely supported)
  .bsr-top--use-radial-mask {
    // Force alpha mode so gradient transparency drives the mask
    mask-mode: alpha;

    -webkit-mask-image: radial-gradient(
      circle at var(--bsr-center-x, 50%) var(--bsr-center-y, 50%),
      transparent calc(var(--bsr-radius-px, 0px)),
      white calc(var(--bsr-radius-px, 0px) + 1px)
    ) !important;
    mask-image: radial-gradient(
      circle at var(--bsr-center-x, 50%) var(--bsr-center-y, 50%),
      transparent calc(var(--bsr-radius-px, 0px)),
      white calc(var(--bsr-radius-px, 0px) + 1px)
    ) !important;
    -webkit-mask-repeat: no-repeat;
    mask-repeat: no-repeat;
    -webkit-mask-size: 200% 200%;
    mask-size: 200% 200%;
    -webkit-mask-position: center;
    mask-position: center;
  }

  // Helpful defaults for sections (can be overridden by site styles)
  [data-candlelight-blob-section-reveal] {
    .page-section {
      min-height: 100vh !important;
    }

    & > .bsr-sticky > * {
      display: grid;
      place-items: center;
    }
  }
}
